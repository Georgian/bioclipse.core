<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Spring Dynamic Modules Reference Guide</title><link rel="stylesheet" href="css/html.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.72.0"><link rel="start" href="index.html" title="Spring Dynamic Modules Reference Guide"><link rel="next" href="preface.html" title="Preface"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div xmlns:fo="http://www.w3.org/1999/XSL/Format" style="background-color:white;border:none;height:73px;border:1px solid black;"><a style="border:none;" href="http://www.springframework.org/osgi/" title="The Spring Framework - Spring Dynamic Modules"><img style="border:none;" src="images/xdev-spring_logo.jpg"></a><a style="border:none;" href="http://www.SpringSource.com/" title="SpringSource - Spring from the Source"><img style="border:none;position:absolute;padding-top:5px;right:42px;" src="images/s2-banner-rhs.png"></a></div><div class="book" lang="en"><div class="titlepage"><div><div><h1 class="title"><a name="d30e1"></a>Spring Dynamic Modules Reference Guide</h1></div><div><div xmlns:fo="http://www.w3.org/1999/XSL/Format" class="authorgroup"><h2>Authors</h2><p></p><span class="author"><span class="firstname">Adrian M</span> <span class="surname">Colyer</span> 
            (SpringSource)
            </span>, <span class="author"><span class="firstname">Hal</span> <span class="surname">Hildebrand</span> 
            (Oracle)
            </span>, <span class="author"><span class="firstname">Costin</span> <span class="surname">Leau</span> 
            (SpringSource)
            </span>, <span class="author"><span class="firstname">Andy</span> <span class="surname">Piper</span> 
            (BEA)
            </span></div></div><div><p class="releaseinfo">1.0.2</p></div><div><div class="legalnotice"><a name="d30e39"></a><p>Copies of this document may be made for your own use and for
      distribution to others, provided that you do not charge any fee for such
      copies and further provided that each copy contains this Copyright
      Notice, whether distributed in print or electronically.</p></div></div></div><hr></div><div class="toc"><dl><dt><span class="preface"><a href="preface.html">Preface</a></span></dt><dt><span class="part"><a href="introduction.html">I. Introduction</a></span></dt><dd><dl><dt><span class="chapter"><a href="why-spring-dm.html">1. Why Spring Dynamic Modules?</a></span></dt><dt><span class="chapter"><a href="requirements.html">2. Requirements</a></span></dt></dl></dd><dt><span class="part"><a href="reference.html">II. Reference Documentation</a></span></dt><dd><dl><dt><span class="chapter"><a href="bnd-app-ctx.html">3. Bundles and Application Contexts</a></span></dt><dd><dl><dt><span class="section"><a href="bnd-app-ctx.html#bnd-app-ctx:extender">3.1. The Spring Dynamic Modules Extender bundle</a></span></dt><dt><span class="section"><a href="bnd-app-ctx.html#bnd-app-ctx:app-creation">3.2. Application Context Creation</a></span></dt><dd><dl><dt><span class="section"><a href="bnd-app-ctx.html#bnd-app-ctx:app-creation:mandatory-deps">3.2.1. Mandatory Service Dependencies</a></span></dt><dt><span class="section"><a href="bnd-app-ctx.html#bnd-app-ctx:app-creation:app-ctx-publication">3.2.2. Application Context Service Publication</a></span></dt></dl></dd><dt><span class="section"><a href="bnd-app-ctx.html#bnd-app-ctx:bnd-lifecycle">3.3. Bundle Lifecycle</a></span></dt><dt><span class="section"><a href="bnd-app-ctx.html#bnd-app-ctx:osgi-resource">3.4. The Resource abstraction</a></span></dt><dt><span class="section"><a href="bnd-app-ctx.html#bnd-app-ctx:access-bnd-ctx">3.5. Accessing the BundleContext</a></span></dt><dt><span class="section"><a href="bnd-app-ctx.html#bnd-app-ctx:app-destruction">3.6. Application Context Destruction</a></span></dt><dt><span class="section"><a href="bnd-app-ctx.html#bnd-app-ctx:access-bnd-ctx:stop-extender">3.7. Stopping the extender bundle</a></span></dt></dl></dd><dt><span class="chapter"><a href="app-deploy.html">4. Packaging and Deploying Spring-based OSGi applications</a></span></dt><dd><dl><dt><span class="section"><a href="app-deploy.html#app-deploy:headers">4.1. Bundle format and Manifest headers</a></span></dt><dt><span class="section"><a href="app-deploy.html#d30e594">4.2. Required Spring Framework and Spring Dynamic Modules
      Bundles</a></span></dt><dt><span class="section"><a href="app-deploy.html#app-deploy:spring-namespaces">4.3. Spring XML authoring support</a></span></dt><dt><span class="section"><a href="app-deploy.html#app-deploy:imports-exports">4.4. Importing and Exporting packages</a></span></dt><dt><span class="section"><a href="app-deploy.html#app-deploy:ext-libs">4.5. Considerations when using external libraries</a></span></dt><dt><span class="section"><a href="app-deploy.html#app-deploy:troubleshooting">4.6. Diagnosing problems</a></span></dt></dl></dd><dt><span class="chapter"><a href="service-registry.html">5. The Service Registry</a></span></dt><dd><dl><dt><span class="section"><a href="service-registry.html#service-registry:export">5.1. Exporting a Spring bean as an OSGi service</a></span></dt><dd><dl><dt><span class="section"><a href="service-registry.html#service-registry:export:intfs">5.1.1. Controlling the set of advertised service interfaces for
        an exported service</a></span></dt><dd><dl><dt><span class="section"><a href="service-registry.html#service-registry:export:auto-export">5.1.1.1. Detecting the advertised interfaces at runtime</a></span></dt></dl></dd><dt><span class="section"><a href="service-registry.html#service-registry:export:props">5.1.2. Controlling the set of advertised properties for an
        exported service</a></span></dt><dt><span class="section"><a href="service-registry.html#service-registry:export:depends-on">5.1.3. The depends-on attribute</a></span></dt><dt><span class="section"><a href="service-registry.html#service-registry:export:ccl">5.1.4. The context-class-loader attribute</a></span></dt><dt><span class="section"><a href="service-registry.html#service-registry:export:ranking">5.1.5. The ranking attribute</a></span></dt><dt><span class="section"><a href="service-registry.html#service-registry:export:service:attributes">5.1.6. <code class="literal">service</code> element attribute</a></span></dt><dt><span class="section"><a href="service-registry.html#service-registry:export:lifecycle">5.1.7. Service registration and unregistration lifecycle</a></span></dt><dd><dl><dt><span class="section"><a href="service-registry.html#service-registry:export:lifecycle:interface">5.1.7.1. Using <code class="interfacename">OsgiServiceRegistrationListener</code> interface</a></span></dt></dl></dd></dl></dd><dt><span class="section"><a href="service-registry.html#service-registry:refs">5.2. Defining references to OSGi services</a></span></dt><dd><dl><dt><span class="section"><a href="service-registry.html#service-registry:refs:singular">5.2.1. Referencing an individual service</a></span></dt><dd><dl><dt><span class="section"><a href="service-registry.html#service-registry:refs:singular:interface">5.2.1.1. Controlling the set of advertised interfaces for the imported service</a></span></dt><dt><span class="section"><a href="service-registry.html#service-registry:refs:singular:filter">5.2.1.2. The <code class="literal">filter</code> attribute</a></span></dt><dt><span class="section"><a href="service-registry.html#service-registry:refs:singular:bean-name">5.2.1.3. The <code class="literal">bean-name</code> attribute</a></span></dt><dt><span class="section"><a href="service-registry.html#service-registry:refs:singular:cardinality">5.2.1.4. The <code class="literal">cardinality</code> attribute</a></span></dt><dt><span class="section"><a href="service-registry.html#service-registry:refs:singular:depends-on">5.2.1.5. The depends-on attribute</a></span></dt><dt><span class="section"><a href="service-registry.html#service-registry:refs:singular:tccl">5.2.1.6. The context-class-loader attribute</a></span></dt><dt><span class="section"><a href="service-registry.html#service-registry:refs:singular:reference:attributes">5.2.1.7. <code class="literal">reference</code> element attributes</a></span></dt><dt><span class="section"><a href="service-registry.html#service-registry:refs:singular:dynamics">5.2.1.8. <code class="literal">reference</code> and OSGi Service Dynamics</a></span></dt><dt><span class="section"><a href="service-registry.html#service-registry:refs:singular:property-editor">5.2.1.9. Getting a hold of the managed service reference</a></span></dt></dl></dd><dt><span class="section"><a href="service-registry.html#service-registry:refs:collection">5.2.2. Referencing a collection of services</a></span></dt><dd><dl><dt><span class="section"><a href="service-registry.html#service-registry:refs:collection:attributes">5.2.2.1. Collection (<code class="literal">list</code> and <code class="literal">set</code>) element attributes</a></span></dt><dt><span class="section"><a href="service-registry.html#service-registry:refs:collection:dynamics">5.2.2.2. <code class="literal">list</code> / <code class="literal">set</code> and OSGi Service Dynamics</a></span></dt><dt><span class="section"><a href="service-registry.html#service-registry:refs:collection:iterator">5.2.2.3. <code class="interfacename">Iterator</code> contract and service collections</a></span></dt></dl></dd><dt><span class="section"><a href="service-registry.html#service-registry:refs:dynamics">5.2.3. Dealing with the dynamics of OSGi imported services</a></span></dt><dt><span class="section"><a href="service-registry.html#service-registry:refs:listener-and-proxies">5.2.4. Listener and service proxies</a></span></dt><dt><span class="section"><a href="service-registry.html#service-registry:refs:invoker-bundle-context">5.2.5. Accessing the caller <code class="interfacename">BundleContext</code></a></span></dt></dl></dd><dt><span class="section"><a href="service-registry.html#service-registry:refs:listener-best-practices">5.3. Exporter/Importer listener best practices</a></span></dt><dd><dl><dt><span class="section"><a href="service-registry.html#service-registry:refs:listener-best-practices:cycles">5.3.1. Listener and cyclic dependencies</a></span></dt></dl></dd><dt><span class="section"><a href="service-registry.html#service-registry:refs:global-defaults">5.4. Service importer global defaults</a></span></dt><dt><span class="section"><a href="service-registry.html#service-registry:export-import-relationship">5.5. Relationship between the service exporter and service importer</a></span></dt></dl></dd><dt><span class="chapter"><a href="bundles.html">6. Working with Bundles</a></span></dt><dt><span class="chapter"><a href="testing.html">7. Testing OSGi based Applications</a></span></dt><dd><dl><dt><span class="section"><a href="testing.html#testing:mocks">7.1. OSGi Mocks</a></span></dt><dt><span class="section"><a href="testing.html#testing:integration">7.2. Integration Testing</a></span></dt><dd><dl><dt><span class="section"><a href="testing.html#testing:integration:simple-test">7.2.1. Creating a simple OSGi integration test</a></span></dt><dt><span class="section"><a href="testing.html#testing:integration:provisioning">7.2.2. Installing test prerequisites</a></span></dt><dt><span class="section"><a href="testing.html#testing:integration:advanced-topics">7.2.3. Advanced testing framework topics</a></span></dt><dd><dl><dt><span class="section"><a href="testing.html#testing:integration:customize-manifest">7.2.3.1. Customizing the test manifest</a></span></dt><dt><span class="section"><a href="testing.html#testing:integration:specify-test-jar-content">7.2.3.2. Customizing test bundle content</a></span></dt><dt><span class="section"><a href="testing.html#testing:integration:understanding-manifest-creator">7.2.3.3. Understanding the <code class="code">MANIFEST.MF</code> generation</a></span></dt></dl></dd><dt><span class="section"><a href="testing.html#testing:integration:appContext">7.2.4. Creating an OSGi application context</a></span></dt><dt><span class="section"><a href="testing.html#testing:integration:specify-platform">7.2.5. Specifying the OSGi platform to use</a></span></dt><dt><span class="section"><a href="testing.html#testing:integration:specify-test-wait-time">7.2.6. Waiting for the test dependencies</a></span></dt><dt><span class="section"><a href="testing.html#testing:integration:performance">7.2.7. Testing framework performance</a></span></dt></dl></dd></dl></dd></dl></dd><dt><span class="part"><a href="appendixes.html">III. Appendixes</a></span></dt><dd><dl><dt><span class="appendix"><a href="appendix-compendium.html">A. Compendium Services</a></span></dt><dd><dl><dt><span class="section"><a href="appendix-compendium.html#compendium:cm">A.1.  Configuration Admin</a></span></dt><dd><dl><dt><span class="section"><a href="appendix-compendium.html#compendium:cm:ppc">A.1.1. Property placeholder support</a></span></dt><dt><span class="section"><a href="appendix-compendium.html#compendium:cm:dict">A.1.2. Configuration Dictionaries</a></span></dt></dl></dd></dl></dd><dt><span class="appendix"><a href="appendix-extensions.html">B. Extensions</a></span></dt><dd><dl><dt><span class="section"><a href="appendix-extensions.html#d30e3539">B.1. Annotation-based injection</a></span></dt></dl></dd><dt><span class="appendix"><a href="appendix-pde-integration.html">C. Eclipse Plug-in Development integration</a></span></dt><dt><span class="appendix"><a href="appendix-archetype.html">D. Spring Dynamic Modules Maven Archetype</a></span></dt><dd><dl><dt><span class="section"><a href="appendix-archetype.html#archetype:generated-content">D.1. Generated Project Features at-a-glance</a></span></dt></dl></dd><dt><span class="appendix"><a href="appendix-roadmap.html">E. Roadmap</a></span></dt><dd><dl><dt><span class="section"><a href="appendix-roadmap.html#d30e3807">E.1. Enhanced Configuration Admin Support</a></span></dt><dd><dl><dt><span class="section"><a href="appendix-roadmap.html#d30e3810">E.1.1. Managed Services</a></span></dt><dt><span class="section"><a href="appendix-roadmap.html#d30e3894">E.1.2. Managed Service Factories</a></span></dt><dt><span class="section"><a href="appendix-roadmap.html#d30e3959">E.1.3. Direct access to configuration data</a></span></dt><dt><span class="section"><a href="appendix-roadmap.html#d30e3980">E.1.4. Publishing configuration administration properties with
        exported services</a></span></dt></dl></dd><dt><span class="section"><a href="appendix-roadmap.html#d30e3994">E.2. Access to Service References for Collections</a></span></dt><dt><span class="section"><a href="appendix-roadmap.html#d30e4008">E.3. Start level integration</a></span></dt><dt><span class="section"><a href="appendix-roadmap.html#d30e4035">E.4. Web application support</a></span></dt><dt><span class="section"><a href="appendix-roadmap.html#d30e4049">E.5. ORM/Persistence support</a></span></dt><dt><span class="section"><a href="appendix-roadmap.html#d30e4062">E.6. OSGi standards</a></span></dt></dl></dd><dt><span class="appendix"><a href="appendix-schema.html">F. Spring Dynamic Modules Schema</a></span></dt><dt><span class="appendix"><a href="appendix-ack.html">G. Acknowledgments</a></span></dt></dl></dd><dt><span class="part"><a href="resources.html">IV. Other Resources</a></span></dt><dd><dl><dt><span class="chapter"><a href="links.html">8. Useful links</a></span></dt></dl></dd></dl></div></div><div xmlns:fo="http://www.w3.org/1999/XSL/Format" class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left">&nbsp;</td><td width="20%" align="center">&nbsp;</td><td width="40%" align="right">&nbsp;<a accesskey="n" href="preface.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">&nbsp;</td><td width="20%" align="center"><span style="color:white;font-size:90%;"><a href="http://www.SpringSource.com/" title="SpringSource - Spring from the Source">Sponsored by SpringSource
                                        </a></span></td><td width="40%" align="right" valign="top">&nbsp;Preface</td></tr></table></div></body></html>