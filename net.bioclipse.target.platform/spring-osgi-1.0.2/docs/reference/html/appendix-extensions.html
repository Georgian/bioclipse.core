<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Appendix&nbsp;B.&nbsp;Extensions</title><link rel="stylesheet" href="css/html.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.72.0"><link rel="start" href="index.html" title="Spring Dynamic Modules Reference Guide"><link rel="up" href="appendixes.html" title="Part&nbsp;III.&nbsp;Appendixes"><link rel="prev" href="appendix-compendium.html" title="Appendix&nbsp;A.&nbsp;Compendium Services"><link rel="next" href="appendix-pde-integration.html" title="Appendix&nbsp;C.&nbsp;Eclipse Plug-in Development integration"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div xmlns:fo="http://www.w3.org/1999/XSL/Format" style="background-color:white;border:none;height:73px;border:1px solid black;"><a style="border:none;" href="http://www.springframework.org/osgi/" title="The Spring Framework - Spring Dynamic Modules"><img style="border:none;" src="images/xdev-spring_logo.jpg"></a><a style="border:none;" href="http://www.SpringSource.com/" title="SpringSource - Spring from the Source"><img style="border:none;position:absolute;padding-top:5px;right:42px;" src="images/s2-banner-rhs.png"></a></div><div class="appendix" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="appendix-extensions"></a>Appendix&nbsp;B.&nbsp;Extensions</h2></div></div></div><p>This appendix describes extensions to the core functionality that
    are shipped with the 1.0 distribution, but are not guaranteed to have
    backwards compatibility across point releases. We anticipate these
    features migrating into the core specification in future releases.</p><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d30e3539"></a>B.1.&nbsp;Annotation-based injection</h2></div></div></div><p>The
      <code class="literal">org.springframework.osgi.extensions.annotation</code> bundle
      that ships with Spring Dynamic Modules provides early access to
      annotation-based support for injecting references to OSGi services. JDK
      1.5 or above is required to use this feature.</p><p>Bean class (setter) methods may be annotated with
      <code class="literal">org.springframework.osgi.extensions.annotation.ServiceReference</code>.
      By default the property type of the annotated property is used to look
      up a service with a matching service interface in the OSGi service
      registry and inject the result. For example, given the
      configuration:</p><pre class="programlisting">&lt;bean id="annotationDriven" class="MyAnnotationDrivenBeanClass"&gt;
      </pre><p>and the class declaration:</p><pre class="programlisting"><b class="hl-keyword">public</b> <b class="hl-keyword">class</b> MyAnnotationDrivenBeanClass {

  @ServiceReference
  <b class="hl-keyword">public</b> <b class="hl-keyword">void</b> setMessageService(MessageService aService) { ... }

}</pre><p>then a service lookup for services implementing the
      <code class="interfacename">MessageService</code> interface will be performed, and the
      best match (using the same algorithm as documented for the
      <code class="literal">reference</code> element) will be injected.</p><p>The <code class="classname">ServiceReference</code> annotation class has a
      number of attributes that can be used to control the service lookup (for
      example, to specify a filter string) that mirror the options provided by
      the <code class="literal">reference</code> element. See the javadoc for more
      information.</p></div></div><div xmlns:fo="http://www.w3.org/1999/XSL/Format" class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="appendix-compendium.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="appendix-pde-integration.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Appendix&nbsp;A.&nbsp;Compendium Services&nbsp;</td><td width="20%" align="center"><span style="color:white;font-size:90%;"><a href="http://www.SpringSource.com/" title="SpringSource - Spring from the Source">Sponsored by SpringSource
                                        </a></span></td><td width="40%" align="right" valign="top">&nbsp;Appendix&nbsp;C.&nbsp;Eclipse Plug-in Development integration</td></tr></table></div></body></html>